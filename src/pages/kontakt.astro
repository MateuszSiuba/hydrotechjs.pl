---
import Layout from '../layouts/Layout.astro';
import Breadcrumbs from '../components/Breadcrumbs.astro';
import GoogleMap from '../components/GoogleMap.astro';
import { Image } from 'astro:assets';
---

<Layout
  title="Kontakt | HydroTech J&S - Hydraulik Witnica | Telefon 502 313 419"
  description="Skontaktuj się z HydroTech J&S! Telefon: +48 502 313 419. Formularz kontaktowy. Adres: Mościczki 34C, 66-460 Witnica. Darmowa wycena!"
>
  <!-- Hero with background image -->
  <section class="relative text-white overflow-hidden">
    <div class="absolute inset-0">
      <Image src="https://images.unsplash.com/photo-1584622650111-993a426fbf0a?auto=format&fit=crop&w=1920&q=80" alt="Kontakt z hydraulikiem Witnica - HydroTech J&S formularz i dane kontaktowe" class="w-full h-full object-cover" width={1920} height={1080} loading="eager" />
      <div class="absolute inset-0 bg-primary-900/75 backdrop-blur-[2px]"></div>
    </div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-28 text-center relative z-10">
      <h1 class="text-3xl md:text-5xl font-extrabold mb-4 drop-shadow-lg">Kontakt</h1>
      <p class="text-gray-300 text-lg">Skontaktuj się z nami - darmowa wycena!</p>
    </div>
  </section>

  <!-- Szybki Kontakt -->
  <section class="py-16 md:py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <Breadcrumbs items={[
        { label: "Strona g\u0142\u00F3wna", href: "/" },
        { label: "Kontakt" }
      ]} />
      <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-3 text-center water-pipe-line">Szybki Kontakt</h2>
      <p class="text-gray-600 text-center mt-6 mb-12">Wybierz najwygodniejszą formę kontaktu</p>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- Phone -->
        <a href="tel:+48502313419" class="group text-center p-8 rounded-2xl border-2 border-primary-400 bg-white hover:shadow-lg hover:-translate-y-1 transition-all duration-300">
          <div class="w-16 h-16 mx-auto bg-primary-600/10 text-primary-600 rounded-full flex items-center justify-center mb-4 group-hover:bg-primary-600 group-hover:text-white transition">
            <i class="fas fa-phone text-2xl"></i>
          </div>
          <h3 class="text-lg font-bold text-gray-800 mb-1">Zadzwoń</h3>
          <p class="text-gray-500 text-sm mb-3">+48 502 313 419</p>
          <span class="inline-block px-4 py-1.5 bg-primary-600 text-white text-xs font-semibold rounded-full">Najszybszy kontakt</span>
        </a>
        <!-- Email -->
        <a href="mailto:hydrotech.js@op.pl" class="group text-center p-8 rounded-2xl border-2 border-red-300 bg-white hover:shadow-lg hover:-translate-y-1 transition-all duration-300">
          <div class="w-16 h-16 mx-auto bg-red-50 text-primary-600 rounded-full flex items-center justify-center mb-4 group-hover:bg-primary-600 group-hover:text-white transition">
            <i class="fas fa-envelope text-2xl"></i>
          </div>
          <h3 class="text-lg font-bold text-gray-800 mb-1">Email</h3>
          <p class="text-gray-500 text-sm mb-3">hydrotech.js@op.pl</p>
          <span class="inline-block px-4 py-1.5 bg-red-500 text-white text-xs font-semibold rounded-full">Odpowiedź w 24h</span>
        </a>
        <!-- WhatsApp -->
        <a href="https://wa.me/48502313419" target="_blank" rel="noopener noreferrer" class="group text-center p-8 rounded-2xl border-2 border-green-400 bg-white hover:shadow-lg hover:-translate-y-1 transition-all duration-300">
          <div class="w-16 h-16 mx-auto bg-green-50 text-primary-600 rounded-full flex items-center justify-center mb-4 group-hover:bg-primary-600 group-hover:text-white transition">
            <i class="fab fa-whatsapp text-2xl"></i>
          </div>
          <h3 class="text-lg font-bold text-gray-800 mb-1">WhatsApp</h3>
          <p class="text-gray-500 text-sm mb-3">Napisz teraz</p>
          <span class="inline-block px-4 py-1.5 bg-green-500 text-white text-xs font-semibold rounded-full">Dostępne 24/7</span>
        </a>
        <!-- Messenger -->
        <a href="https://www.facebook.com/p/HydroTech-JS-61573979556456/" target="_blank" rel="noopener noreferrer" class="group text-center p-8 rounded-2xl border-2 border-primary-400 bg-white hover:shadow-lg hover:-translate-y-1 transition-all duration-300">
          <div class="w-16 h-16 mx-auto bg-primary-50 text-primary-600 rounded-full flex items-center justify-center mb-4 group-hover:bg-primary-600 group-hover:text-white transition">
            <i class="fab fa-facebook-messenger text-2xl"></i>
          </div>
          <h3 class="text-lg font-bold text-gray-800 mb-1">Messenger</h3>
          <p class="text-gray-500 text-sm mb-3">Chat online</p>
          <span class="inline-block px-4 py-1.5 bg-primary-600 text-white text-xs font-semibold rounded-full">Szybka odpowiedź</span>
        </a>
      </div>
    </div>
  </section>

  <section class="py-20 md:py-24 bg-mesh-light">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">

        <!-- Contact form -->
        <div class="bg-white rounded-2xl p-8 shadow-md border border-gray-100">
          <h2 class="text-2xl font-bold text-gray-800 mb-6 water-pipe-line">Wyślij wiadomość</h2>
          <form action="https://formspree.io/f/xanykwzv" method="POST" class="space-y-5 mt-8" id="contact-form">
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Imię i nazwisko</label>
              <input type="text" id="name" name="name" required
                     class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition bg-gray-50" />
            </div>
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
              <input type="email" id="email" name="email" required
                     class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition bg-gray-50" />
            </div>
            <div>
              <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Telefon (opcjonalnie)</label>
              <input type="tel" id="phone" name="phone"
                     class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition bg-gray-50" />
            </div>
            <div>
              <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Wiadomość</label>
              <textarea id="message" name="message" rows="5" required
                        class="w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition resize-none bg-gray-50"></textarea>
            </div>
            <button type="submit" class="w-full px-6 py-4 bg-gradient-to-r from-primary-600 to-primary-700 text-white rounded-xl font-bold hover:from-primary-700 hover:to-primary-800 transition shadow-lg cursor-pointer text-lg">
              <i class="fas fa-paper-plane mr-2"></i>Wyślij wiadomość
            </button>
          </form>
          <div id="form-status" class="mt-4 hidden text-center p-4 rounded-xl"></div>
        </div>

        <!-- Info + Map -->
        <div class="space-y-6">
          <!-- Contact info cards -->
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm card-lift">
              <div class="w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 text-white rounded-xl flex items-center justify-center mb-3 shadow-md">
                <i class="fas fa-map-marker-alt text-lg"></i>
              </div>
              <h3 class="font-bold text-gray-800 text-sm mb-1">Adres</h3>
              <p class="text-gray-500 text-sm">Mościczki 34C<br>66-460 Witnica</p>
            </div>
            <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm card-lift">
              <div class="w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 text-white rounded-xl flex items-center justify-center mb-3 shadow-md">
                <i class="fas fa-phone text-lg"></i>
              </div>
              <h3 class="font-bold text-gray-800 text-sm mb-1">Telefon</h3>
              <p class="text-sm"><a href="tel:+48502313419" class="text-primary-600 font-medium">+48 502 313 419</a></p>
            </div>
            <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm card-lift">
              <div class="w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 text-white rounded-xl flex items-center justify-center mb-3 shadow-md">
                <i class="fas fa-envelope text-lg"></i>
              </div>
              <h3 class="font-bold text-gray-800 text-sm mb-1">Email</h3>
              <p class="text-sm"><a href="mailto:hydrotech.js@op.pl" class="text-primary-600 font-medium">hydrotech.js@op.pl</a></p>
            </div>
            <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm card-lift">
              <div class="w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 text-white rounded-xl flex items-center justify-center mb-3 shadow-md">
                <i class="fas fa-clock text-lg"></i>
              </div>
              <h3 class="font-bold text-gray-800 text-sm mb-1">Godziny pracy</h3>
              <p class="text-gray-500 text-sm">Pn-Pt: 8-18<br>Sob: 9-15</p>
            </div>
          </div>

          <!-- Map with fixed height -->
          <div class="h-80">
            <GoogleMap class="h-full" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Service Area -->
  <section class="py-16 md:py-20 bg-white bg-dots">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl md:text-3xl font-bold text-gray-800 mb-8 text-center water-pipe-line">Obsługiwane miasta</h2>
      <div class="flex flex-wrap justify-center gap-3">
        <span class="px-4 py-2 bg-primary-600 text-white rounded-full text-sm font-medium shadow-sm"><i class="fas fa-map-marker-alt mr-1.5"></i>Witnica</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Gorzów Wlkp.</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Kostrzyn nad Odrą</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Dębno</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Dąbroszyn</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Słubice</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Sulęcin</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Lubiszyn</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Rzepin</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Ośno Lubuskie</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Bogdaniec</span>
        <span class="px-4 py-2 bg-primary-50 text-primary-700 rounded-full text-sm font-medium border border-primary-200">Deszczno</span>
      </div>
      <p class="text-center text-gray-500 text-sm mt-6"><i class="fas fa-truck mr-1.5 text-primary-400"></i>Dojazd do klienta wliczony w cenę usługi</p>
    </div>
  </section>

  <script>
    const form = document.getElementById('contact-form') as HTMLFormElement | null;
    const status = document.getElementById('form-status');

    form?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const btn = form.querySelector('button[type="submit"]') as HTMLButtonElement;
      btn.disabled = true;
      btn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Wysyłanie...';

      try {
        const res = await fetch(form.action, {
          method: 'POST',
          body: new FormData(form),
          headers: { 'Accept': 'application/json' },
        });
        if (res.ok) {
          if (status) {
            status.classList.remove('hidden');
            status.className = 'mt-4 text-center p-4 rounded-xl bg-green-100 text-green-800';
            status.textContent = 'Wiadomość wysłana! Odezwiemy się wkrótce.';
          }
          form.reset();
        } else {
          throw new Error('Error');
        }
      } catch {
        if (status) {
          status.classList.remove('hidden');
          status.className = 'mt-4 text-center p-4 rounded-xl bg-red-100 text-red-800';
          status.textContent = 'Błąd wysyłania. Spróbuj ponownie lub zadzwoń.';
        }
      } finally {
        btn.disabled = false;
        btn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>Wyślij wiadomość';
      }
    });
  </script>
</Layout>